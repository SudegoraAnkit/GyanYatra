spring.application.name=gyanyatra_api


# --- 1. MongoDB Configuration ---
# Ensure local MongoDB is running on port 27017
spring.data.mongodb.uri=mongodb://localhost:27017/gyanyatra
# spring.data.mongodb.auto-index-creation=true

# --- 2. RabbitMQ Configuration ---
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest

# RabbitMQ Listener Settings
spring.rabbitmq.listener.simple.concurrency=5
spring.rabbitmq.listener.simple.max-concurrency=10
spring.rabbitmq.listener.simple.retry.enabled=true
spring.rabbitmq.listener.simple.retry.initial-interval=2s
spring.rabbitmq.listener.simple.retry.max-attempts=3

# --- 3. Spring AI Configuration (OpenAI) ---
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.chat.options.model=gpt-4o-mini
spring.ai.openai.chat.options.temperature=0.7

# JSON Mode: Corresponds to 'response_format' in OpenAI API
# Maps to OpenAiChatOptions.builder().withResponseFormat(...)
spring.ai.openai.chat.options.response-format.type=json_object

# --- 4. Performance (Virtual Threads) ---
# Enables Java 21+ Virtual Threads for Tomcat and RabbitMQ listeners
spring.threads.virtual.enabled=true

# --- 5. Logging Levels ---
logging.level.root=INFO
logging.level.com.sudegoraankit.gyanyatra=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.amqp=INFO
logging.level.org.springframework.ai=INFO

# --- 6. Server & API Configuration ---
server.port=8080
server.error.include-message=always

